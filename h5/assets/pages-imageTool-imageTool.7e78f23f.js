import{d as e,ag as s,r as t,b as a,ah as l,ai as o,F as i,G as A,H as c,I as n,O as r,K as u,L as g,M as f,_ as I,aj as d,ak as m,al as p,am as v,an as C,R as x,N as R}from"./index.94028eaa.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";var E=b(e({name:"ImageTool",components:{},props:{},setup(e,i){const A=d(),c=s((()=>A.state.imageTool.initInfo)),n=s((()=>A.state.imageTool.imageList)),r=e=>A.dispatch(`imageTool/${m.UploadFiles}`,e);t(null);return a((e=>{var s;console.log("e",e),s=e,A.dispatch(`imageTool/${l.Init}`,s)})),{BASE_IMAGE_URL:o,initInfo:c,imageList:n,uploadFiles:r,saveFiles:e=>A.dispatch(`imageTool/${m.SaveFiles}`,e),updateInitInfo:e=>A.commit(`imageTool/${p.UpdateInitInfo}`,e),chooseImage:e=>{const{count:s=9,sourceType:t=["album","camera"],sizeType:a=["original","compressed"]}=e||{};v({count:s,sizeType:a,sourceType:t,success:e=>{r({files:e.tempFiles})}})},previewImage:(e,s)=>{if((null==s?void 0:s.length)>0){const t=s.map((e=>o+e.filePath));C({current:e,urls:t})}},deleteImage:e=>{n.value.splice(e,1)}}}}),[["render",function(e,s,t,a,l,o){const d=x,m=R;return i(),A(m,{class:"ImageTool"},{default:c((()=>[1===e.initInfo.status?(i(),A(m,{key:0,class:"box"},{default:c((()=>[n(d,{class:"box-icon",src:"./assets/icon-tick-blue.2859f87c.png",mode:"aspectFill"}),n(m,{class:"box-title"},{default:c((()=>[r(" 上传成功 ")])),_:1}),n(m,{class:"box-text"},{default:c((()=>[r(" 请返回PC页面点击【已上传成功】按钮 ")])),_:1})])),_:1})):2===e.initInfo.status?(i(),A(m,{key:1,class:"box"},{default:c((()=>[n(d,{class:"box-icon",src:"./assets/icon-wrong-red.7368237f.png",mode:"aspectFill"}),n(m,{class:"box-title"},{default:c((()=>[r(" 上传失败 ")])),_:1}),n(m,{class:"box-text"},{default:c((()=>[r(" 请检查网络并重新提交图片信息 ")])),_:1}),n(m,{class:"box-pointer",onClick:s[0]||(s[0]=s=>e.updateInitInfo({status:0}))},{default:c((()=>[r(" 重新上传 ")])),_:1})])),_:1})):0===e.initInfo.status?(i(),A(m,{key:2},{default:c((()=>{var t,a;return[(null==(t=e.imageList)?void 0:t.length)>0?(i(),A(m,{key:0,class:"list"},{default:c((()=>[(i(!0),u(f,null,g(e.imageList,((s,t)=>(i(),A(m,{class:"li",key:t},{default:c((()=>[n(d,{class:"li-image",src:e.BASE_IMAGE_URL+s.filePath,mode:"aspectFill",onClick:s=>e.previewImage(t,e.imageList)},null,8,["src","onClick"]),n(d,{class:"li-icon",src:"data:image/png;base64,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",mode:"aspectFill",onClick:s=>e.deleteImage(t)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1})):I("",!0),(null==(a=e.imageList)?void 0:a.length)>0?(i(),A(m,{key:1,class:"footer"},{default:c((()=>[n(m,{class:"footer-button footer-button-white",onClick:s[1]||(s[1]=s=>e.chooseImage({sourceType:["camera","album"]}))},{default:c((()=>[r(" 继续上传 ")])),_:1}),n(m,{class:"footer-button footer-button-blue",onClick:s[2]||(s[2]=s=>e.saveFiles())},{default:c((()=>[r(" 提交上传 ")])),_:1})])),_:1})):(i(),A(m,{key:2,class:"fixed"},{default:c((()=>[n(m,{class:"fixed-button fixed-button-white",onClick:s[3]||(s[3]=s=>e.chooseImage({sourceType:["camera"]}))},{default:c((()=>[r(" 拍照上传 ")])),_:1}),n(m,{class:"fixed-button fixed-button-blue",onClick:s[4]||(s[4]=s=>e.chooseImage({sourceType:["album"]}))},{default:c((()=>[r(" 手机相册上传 ")])),_:1})])),_:1}))]})),_:1})):I("",!0)])),_:1})}],["__scopeId","data-v-0fe6ee40"]]);export{E as default};
