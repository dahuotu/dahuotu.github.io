import{d as a,a as t,c as s,T as e,ai as l,at as i,F as u,K as c,I as d,H as n,G as r,O as f,P as o,_,M as p,L as m,aj as k,X as g,N as A,R as y,af as D,V as b}from"./index.94028eaa.js";import{b as v,A as w}from"./index.9d7f7591.js";import{_ as L,a as j}from"./icon-part-error.5c957f08.js";import{_ as I}from"./icon-part-success.14d4102f.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";var S=N(a({name:"pickingAuditDetails",components:{},props:{taskLlId:{type:Number,default:0}},setup(a,u){k();const c=t({pickingAuditDetail:{}}),d=async t=>{try{const{success:t,massage:s,data:e}=await v({taskLlId:a.taskLlId});t&&(c.pickingAuditDetail=e)}catch(s){throw new Error(s)}};return s(((a={})=>{d()})),{Tool:e,BASE_IMAGE_URL:l,getPickingAuditDetail:d,passAudit:async t=>{g({title:"",content:"是否确认通过？",success:async s=>{if(s.confirm){const{success:s,message:l,data:i}=await w({auditType:t,taskLlId:a.taskLlId});s&&(e.showToast(l,"none"),d())}else s.cancel}})},rejuctAudit:async t=>{e.navigateTo(`/pages/menus/warehouseManage/pickingAudit/rejuctAudit/index?taskLlId=${a.taskLlId}&auditType=${t}`)},...i(c)}}}),[["render",function(a,t,s,e,l,i){const k=A,g=y,v=D,w=b;return u(),c("div",{class:"main"},[d(k,{class:"top-content"},{default:n((()=>[d(k,{class:"info"},{default:n((()=>[a.pickingAuditDetail.createBy?(u(),r(k,{key:0,class:"user"},{default:n((()=>[f(o(a.pickingAuditDetail.createBy),1)])),_:1})):_("",!0),d(k,{class:"time"},{default:n((()=>[f(o(a.pickingAuditDetail.createTime)+"申请 ",1)])),_:1})])),_:1}),1==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:0,class:"status"},{default:n((()=>[d(g,{class:"icon-status",src:L,mode:"aspectFill"}),d(k,{class:"text blue"},{default:n((()=>[f("待审核")])),_:1})])),_:1})):_("",!0),2==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:1,class:"status"},{default:n((()=>[d(g,{class:"icon-status",src:I,mode:"aspectFill"}),d(k,{class:"text green"},{default:n((()=>[f("已通过")])),_:1})])),_:1})):_("",!0),3==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:2,class:"status"},{default:n((()=>[d(g,{class:"icon-status",src:j,mode:"aspectFill"}),d(k,{class:"text red"},{default:n((()=>[f("已驳回")])),_:1})])),_:1})):_("",!0)])),_:1}),d(k,{class:"info-content"},{default:n((()=>[d(k,{class:"task-No"},{default:n((()=>[f(o(a.pickingAuditDetail.taskLlNo),1)])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("类型")])),_:1}),d(k,{class:"value"},{default:n((()=>[f(o(1==a.pickingAuditDetail.actionType?"领料":2==a.pickingAuditDetail.actionType?"退料":"--"),1)])),_:1})])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("关联模具号")])),_:1}),d(k,{class:"value"},{default:n((()=>[f(o(a.pickingAuditDetail.mouldNo||"--"),1)])),_:1})])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("订单编号")])),_:1}),d(k,{class:"value"},{default:n((()=>[f(o(a.pickingAuditDetail.orderNo||"--"),1)])),_:1})])),_:1})])),_:1}),d(k,{class:"list-content"},{default:n((()=>[d(k,{class:"material-title"},{default:n((()=>[f("物料清单")])),_:1}),d(k,{class:"material-list"},{default:n((()=>[(u(!0),c(p,null,m(a.pickingAuditDetail.materialRespList,((a,t)=>(u(),r(k,{class:"material-item",key:t},{default:n((()=>[d(k,{class:"material-left"},{default:n((()=>[d(k,{class:"material-name"},{default:n((()=>[d(v,null,{default:n((()=>[f(o(a.materialName),1)])),_:2},1024),d(v,null,{default:n((()=>[f("（"+o(a.materialCode)+"）",1)])),_:2},1024)])),_:2},1024),d(k,{class:"material-specs"},{default:n((()=>[d(v,null,{default:n((()=>[f("规格：")])),_:1}),d(v,null,{default:n((()=>[f(o(a.materialSpecs),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(k,{class:"material-right"},{default:n((()=>[d(k,{class:"material-num"},{default:n((()=>[d(v,null,{default:n((()=>[f(o(a.expectedUsageNum),1)])),_:2},1024),d(v,null,{default:n((()=>[f(o(a.materialUnit),1)])),_:2},1024)])),_:2},1024),d(k,{class:"material-abilityNum"},{default:n((()=>[d(v,null,{default:n((()=>[f("库存可用：")])),_:1}),d(v,null,{default:n((()=>[f(o(a.currentAvailabilityNum||"--"),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),1==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:0,class:"footer-content"},{default:n((()=>[d(w,{type:"primary",class:"btn-reject btn-primary",onClick:t[0]||(t[0]=t=>a.rejuctAudit(3))},{default:n((()=>[f("驳回")])),_:1}),d(w,{type:"primary",class:"btn-pass btn-primary",onClick:t[1]||(t[1]=t=>a.passAudit(2))},{default:n((()=>[f("通过")])),_:1})])),_:1})):_("",!0),2==a.pickingAuditDetail.auditStatus||3==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:1,class:"audit-content"},{default:n((()=>[d(k,{class:"audit-title"},{default:n((()=>[f(" 审核信息")])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("审核人")])),_:1}),d(k,{class:"value"},{default:n((()=>[f(o(a.pickingAuditDetail.auditBy),1)])),_:1})])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("审核时间")])),_:1}),d(k,{class:"value"},{default:n((()=>[f(o(a.pickingAuditDetail.auditTime),1)])),_:1})])),_:1}),d(k,{class:"row"},{default:n((()=>[d(k,{class:"label"},{default:n((()=>[f("审核结果")])),_:1}),2==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:0,class:"value color-green"},{default:n((()=>[f("通过")])),_:1})):_("",!0),3==a.pickingAuditDetail.auditStatus?(u(),r(k,{key:1,class:"value"},{default:n((()=>[d(v,{class:"color-red"},{default:n((()=>[f("驳回")])),_:1}),d(v,null,{default:n((()=>[f("（驳回原因："+o(a.pickingAuditDetail.auditContent)+"） ",1)])),_:1})])),_:1})):_("",!0)])),_:1})])),_:1})):_("",!0)])}],["__scopeId","data-v-0e992fca"]]);export{S as default};
