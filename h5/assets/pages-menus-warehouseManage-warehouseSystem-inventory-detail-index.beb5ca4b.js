import{d as e,z as a,r as l,F as n,G as t,H as s,I as u,O as i,P as o,K as r,L as d,M as c,X as m,aD as v,T as f,af as _,ap as y,aq as p,N as g,ar as h,_ as I}from"./index.94028eaa.js";import{_ as C}from"./uni-icons.29799ac0.js";import{g as S,a as w,d as k}from"./business.e4d8c1ca.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const P=[{name:"物料小类",value:"smallCategoryValue",unit:!0},{name:"规格",value:"materialSpecJson",render:e=>w(e.materialSpecJson)},{name:"物料中类",value:"mediumCategoryValue",unit:!0},{name:"物料大类",value:"largerCategoryValue",unit:!0},{name:"单位",value:"measureUnit",split:!0},{name:"安全库存",value:"securityWarehouseNum"},{name:"有效期",value:"materialPeriod",render:e=>e.materialPeriod+e.materialPeriodUnit},{name:"供应商(关联)",value:"supplierName"},{name:"最后出入库位置",value:"shelvesCode"},{name:"库存锁定数量",value:"lockWarehouseNum"},{name:"已确认库存",value:"totalWarehouseNum"}],N=[{name:"锁定入库数量",value:"a1"},{name:"实际入库数量",value:"b1"},{name:"实际入库所用金额",value:"c1"},{name:"采购入库锁定数量",value:"a2"},{name:"采购入库数量",value:"b2"},{name:"采购入库金额",value:"c2"},{name:"生产退料锁定数量",value:"a3"},{name:"生产退料数量",value:"b3"},{name:"生产退料金额",value:"c3"},{name:"盘盈锁定数量",value:"a4"},{name:"盘盈数量",value:"b4"},{name:"盘盈金额",value:"c4"}],M=[{name:"出库锁定数量",value:"d1"},{name:"出库实际数量",value:"e1"},{name:"实际所用金额",value:"f1"},{name:"生产领料锁定数量",value:"d2"},{name:"生产领料数量",value:"e2"},{name:"生产领料所用金额",value:"f2"},{name:"采购退货锁定数量",value:"d3"},{name:"采购退货数量",value:"e3"},{name:"采购退货金额",value:"f3"},{name:"盘亏锁定数量",value:"d4"},{name:"盘亏数量",value:"e4"},{name:"盘亏金额",value:"f4"},{name:"变质锁定数量",value:"d5"},{name:"变质数量",value:"e5"},{name:"变质金额",value:"f5"},{name:"处置锁定数量",value:"d6"},{name:"处置数量",value:"e6"},{name:"处置金额",value:"f6"},{name:"试模领料锁定数量",value:"d7"},{name:"试模领料数量",value:"e7"},{name:"试模领料金额",value:"f7"},{name:"外发领料锁定数量",value:"d8"},{name:"外发领料数量",value:"e8"},{name:"外发领料金额",value:"f8"},{name:"客供料入库锁定数量",value:"d9"},{name:"客供料入库数量",value:"e9"},{name:"客供料入库金额",value:"f9"}];var x=b(e({name:"InventoryDetail",props:{id:{type:String,default:""}},setup(e){a((()=>{n()}));const n=()=>{s()},t=l({}),s=()=>{const a={materialManagerId:e.id};return new Promise(((e,l)=>{S(a).then((a=>{a.success&&(t.value=a.data),e(a)})).catch((e=>{throw l(),new Error(e)}))}))};return{handleRemove:()=>{const a={materialManagerId:e.id};m({title:"提示",content:"是否确认删除此条数据？",success:function(e){e.confirm&&k(a).then((e=>{e.success?(v({title:"删除成功",icon:"success"}),f.navigateTo("/pages/menus/warehouseManage/warehouseSystem/index")):v({title:e.message,icon:"none",duration:2e3})})).catch((e=>{throw new Error(e)}))}})},handleRecord:e=>{f.navigateTo(`/pages/menus/warehouseManage/warehouseSystem/inventory/record/index?id=${e}`)},inventoryInfo:t,fields:P,addSectionstatistics:N,decreaseSectionStatistics:M,getCategoryName:(e,a)=>e?e.split("|")[a]:"--",handleEdit:()=>{f.navigateTo(`/pages/menus/warehouseManage/warehouseSystem/inventory/edit/index?type=modify&id=${e.id}`)},genSpec:w}}}),[["render",function(e,a,l,m,v,f){const S=_,w=y(p("uni-icons"),C),k=g;return n(),t(k,{class:"inventory-detail-container"},{default:s((()=>[u(k,{class:"header"},{default:s((()=>[u(k,{class:"tips"},{default:s((()=>[u(S,{class:"left"},{default:s((()=>[i("物料编码(自动生成)")])),_:1}),u(k,{class:"right",onClick:a[0]||(a[0]=a=>e.handleRecord(e.inventoryInfo.materialManagerId))},{default:s((()=>[u(S,null,{default:s((()=>[i("进销存记录")])),_:1}),u(w,{type:"forward",size:"10",color:"#1C1C1C"})])),_:1})])),_:1}),u(k,{class:"code"},{default:s((()=>[i(o(e.inventoryInfo.materialCode),1)])),_:1})])),_:1}),u(k,{class:"base-info-warpper"},{default:s((()=>[u(k,{class:"title-section"},{default:s((()=>[u(k,{class:"title"},{default:s((()=>[i("基本信息")])),_:1}),u(k,{class:"action"},{default:s((()=>[u(k,{class:"edit"},{default:s((()=>[u(w,{type:"compose",size:"16",color:"#3E7AF4"}),u(S,{onClick:e.handleEdit},{default:s((()=>[i("编辑")])),_:1},8,["onClick"])])),_:1}),u(k,{class:"remove"},{default:s((()=>[u(w,{type:"trash-filled",size:"16",color:"#FF3333"}),u(S,{onClick:e.handleRemove},{default:s((()=>[i("删除")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),u(k,{class:"base-info-section"},{default:s((()=>[(n(!0),r(c,null,d(e.fields,(a=>(n(),t(k,{key:a.value,class:h({item:!0,"split-line":a.split})},{default:s((()=>[u(S,{class:"label"},{default:s((()=>[i(o(a.name),1)])),_:2},1024),"materialSpecJson"==a.value?(n(),t(S,{key:0,class:"vlaue"},{default:s((()=>[i(o(e.genSpec(e.inventoryInfo[a.value])),1)])),_:2},1024)):"materialPeriod"==a.value?(n(),t(S,{key:1,class:"vlaue"},{default:s((()=>[i(o(e.inventoryInfo.materialPeriod?e.inventoryInfo.materialPeriod+e.inventoryInfo.materialPeriodUnit:"--"),1)])),_:1})):(n(),t(S,{key:2,class:"vlaue"},{default:s((()=>[i(o(a.unit?e.getCategoryName(e.inventoryInfo[a.value],0):e.inventoryInfo[a.value]||"--"),1)])),_:2},1024)),a.unit?(n(),t(S,{key:3,class:"unit"},{default:s((()=>[i(o(e.getCategoryName(e.inventoryInfo[a.value],1)),1)])),_:2},1024)):I("",!0)])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),u(k,{class:"inventory-wapper"},{default:s((()=>[u(k,{class:"title-section"},{default:s((()=>[u(k,{class:"title"},{default:s((()=>[i("增加库存部分")])),_:1})])),_:1}),u(k,{class:"grid-section"},{default:s((()=>[(n(!0),r(c,null,d(e.addSectionstatistics,(a=>(n(),t(k,{key:a.value,class:"item"},{default:s((()=>[u(S,{class:"label"},{default:s((()=>[i(o(a.name),1)])),_:2},1024),u(S,{class:"value"},{default:s((()=>[i(o(e.inventoryInfo[a.value]||0),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),u(k,{class:"title-section"},{default:s((()=>[u(k,{class:"title"},{default:s((()=>[i("减少库存部分")])),_:1})])),_:1}),u(k,{class:"grid-section"},{default:s((()=>[(n(!0),r(c,null,d(e.decreaseSectionStatistics,(a=>(n(),t(k,{key:a.value,class:"item"},{default:s((()=>[u(S,{class:"label"},{default:s((()=>[i(o(a.name),1)])),_:2},1024),u(S,{class:"value"},{default:s((()=>[i(o(e.inventoryInfo[a.value]||0),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-f0277520"]]);export{x as default};
